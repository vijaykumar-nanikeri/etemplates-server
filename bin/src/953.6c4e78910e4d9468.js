"use strict";(self.webpackChunketemplates=self.webpackChunketemplates||[]).push([[953],{1953:(K,F,a)=>{a.r(F),a.d(F,{LibraryModule:()=>X});var r=a(9808),v=a(9192),c=a(9127);const f=[{code:"subcategoryTypes",name:"Subcategory Types",basePath:"/home/library/subcategory-types",link:"/view-all"},{code:"fieldNames",name:"Field Names",basePath:"/home/library/field-names",link:""}];var e=a(4893);function Z(i,n){1&i&&e.GkF(0)}function x(i,n){1&i&&e.GkF(0)}const T=function(i){return[i]};function C(i,n){if(1&i&&(e.TgZ(0,"li",9),e.TgZ(1,"a",10),e._uU(2),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.ekj("active",o.url.includes(t.basePath)),e.Q6J("routerLink",e.VKq(4,T,t.basePath+t.link)),e.xp6(1),e.hij(" ",t.name," ")}}function y(i,n){if(1&i&&e.YNc(0,C,3,6,"li",8),2&i){const t=e.oxw();e.Q6J("ngForOf",t.libraryTabs)}}let _=(()=>{class i{constructor(t,o){this.location=t,this.router=o,this.libraryTabs=[],this.url="",this.router.events.subscribe(()=>{this.url=this.location.path()})}ngOnInit(){this.libraryTabs=f}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.Ye),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-library"]],decls:12,vars:2,consts:[[1,"row","mb-4"],[1,"col"],[1,"d-flex","justify-content-between","flex-column","flex-md-row"],[1,"nav","nav-pills","nav-justified","d-flex","d-md-none"],[4,"ngTemplateOutlet"],[1,"nav","nav-pills","d-none","d-md-flex"],["libraryNavPills",""],[1,"row"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link","shadow",3,"routerLink"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.YNc(4,Z,1,0,"ng-container",4),e.qZA(),e.TgZ(5,"ul",5),e.YNc(6,x,1,0,"ng-container",4),e.qZA(),e.YNc(7,y,1,1,"ng-template",null,6,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"div",1),e._UZ(11,"router-outlet"),e.qZA(),e.qZA()),2&t){const l=e.MAs(8);e.xp6(4),e.Q6J("ngTemplateOutlet",l),e.xp6(2),e.Q6J("ngTemplateOutlet",l)}},directives:[r.tP,r.sg,c.yS,c.lC],styles:[""]}),i})();var d=a(2382),M=a(7579),q=a(5698),A=a(4999),J=a(1884),U=a(9057),k=a(288),u=a(4995),p=(()=>((p||(p={})).SearchPlaceholder="Field Name...",p))(),h=(()=>{return(i=h||(h={})).Title="Add Field Name",i.FieldNameName="Field Name",i.FieldNameNamePlaceholder="Field Name",i.Cancel="Cancel",i.Add="Add",h;var i})(),g=(()=>{return(i=g||(g={})).Title="Edit Field Name",i.FieldNameName="Field Name",i.FieldNameNamePlaceholder="Field Name",i.Cancel="Cancel",i.Update="Update",g;var i})(),N=(()=>{return(i=N||(N={})).Title="Delete Field Name",i.Text="",i.CancelButton="Cancel",i.ConfirmButton="Yes, Delete",N;var i})();const S=[{code:"sno",name:"S.No."},{code:"fieldName",name:"Field Name"},{code:"createdBy",name:"Created by"},{code:"createdOn",name:"Created on"},{code:"actions",name:"Actions"}];var Y=a(1134),j=a(5976),Q=a(6892),O=a(5850),R=a(8969);const w=function(){return[0]},P=function(i){return[i]},B=function(i,n){return{"text-end":i,"text-center":n}};function H(i,n){if(1&i&&(e.TgZ(0,"th",15),e._uU(1),e.qZA()),2&i){const t=n.$implicit,o=n.index,l=e.oxw();e.Q6J("ngClass",e.WLB(5,B,e.DdM(2,w).includes(o),e.VKq(3,P,l.fieldNamesThead.length-1).includes(o))),e.xp6(1),e.hij(" ",t.name," ")}}function $(i,n){if(1&i&&(e.TgZ(0,"tbody"),e.TgZ(1,"tr"),e.TgZ(2,"td",16),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.uIk("colspan",t.fieldNamesThead.length),e.xp6(1),e.hij(" ",t.homeLabels.NoRecordsFound," ")}}function L(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",18),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"formatDate"),e.qZA(),e.TgZ(10,"td",19),e.TgZ(11,"button",20),e.NdJ("click",function(){const m=e.CHM(t).$implicit,s=e.oxw(2),b=e.MAs(18);return s.openEditFieldNameModal(b,m)}),e._UZ(12,"i",21),e.qZA(),e.TgZ(13,"button",22),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw(2).openDeleteFieldNameModal(m)}),e._UZ(14,"i",23),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.createdBy),e.xp6(2),e.Oqu(e.xi3(9,4,t.createdOn,"DMY"))}}function G(i,n){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,L,15,7,"tr",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.fieldNames)}}function z(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div",25),e._uU(2),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeAddFieldNameModal()}),e.qZA(),e.qZA(),e.TgZ(4,"div",27),e.ynx(5,28),e.TgZ(6,"div",29),e.TgZ(7,"label",30),e._uU(8),e.TgZ(9,"span",31),e._uU(10,"*"),e.qZA(),e.qZA(),e._UZ(11,"input",32),e.qZA(),e.BQk(),e.qZA(),e.TgZ(12,"div",33),e.TgZ(13,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelAddFieldNameModal()}),e._uU(14),e.qZA(),e.TgZ(15,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().addFieldName()}),e._uU(16),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.addFieldNameModalLabels.Title),e.xp6(3),e.Q6J("formGroup",t.addFieldNameForm),e.xp6(3),e.hij(" ",t.addFieldNameModalLabels.FieldNameName," "),e.xp6(3),e.Q6J("placeholder",t.addFieldNameModalLabels.FieldNameNamePlaceholder),e.xp6(3),e.hij(" ",t.addFieldNameModalLabels.Cancel," "),e.xp6(1),e.Q6J("disabled",!t.addFieldNameForm.valid),e.xp6(1),e.hij(" ",t.addFieldNameModalLabels.Add," ")}}function V(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div",25),e._uU(2),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeEditFieldNameModal()}),e.qZA(),e.qZA(),e.TgZ(4,"div",27),e.ynx(5,28),e.TgZ(6,"div",29),e.TgZ(7,"label",30),e._uU(8),e.TgZ(9,"span",31),e._uU(10,"*"),e.qZA(),e.qZA(),e._UZ(11,"input",32),e.qZA(),e.BQk(),e.qZA(),e.TgZ(12,"div",33),e.TgZ(13,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelEditFieldNameModal()}),e._uU(14),e.qZA(),e.TgZ(15,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().editFieldName()}),e._uU(16),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.editFieldNameModalLabels.Title),e.xp6(3),e.Q6J("formGroup",t.editFieldNameForm),e.xp6(3),e.hij(" ",t.editFieldNameModalLabels.FieldNameName," "),e.xp6(3),e.Q6J("placeholder",t.editFieldNameModalLabels.FieldNameNamePlaceholder),e.xp6(3),e.hij(" ",t.editFieldNameModalLabels.Cancel," "),e.xp6(1),e.Q6J("disabled",!t.editFieldNameForm.valid),e.xp6(1),e.hij(" ",t.editFieldNameModalLabels.Update," ")}}const W=[{path:"",component:_,children:[{path:"subcategory-types",loadChildren:()=>Promise.all([a.e(592),a.e(637)]).then(a.bind(a,8637)).then(i=>i.SubcategoryTypesModule)},{path:"field-names",component:(()=>{class i{constructor(t,o,l,m,s){this.fb=t,this.modalService=o,this.toastService=l,this.httpService=m,this.authService=s,this.fieldNamesThead=[],this.fieldNames=[],this.searchModel="",this.searchModelChanged=new M.x,this.searchModelChanged.pipe((0,A.b)(500),(0,J.x)()).subscribe(b=>{this.searchModel=b,this.getFieldNames()})}ngOnInit(){this.userDetails=this.authService.getUserDetails(),this.homeLabels=k.n,this.labels=p,this.addFieldNameModalLabels=h,this.editFieldNameModalLabels=g,this.deleteFieldNameModalLabels=N,this.fieldNamesThead=S,this.getFieldNames(),this.addFieldNameForm=this.fb.group({fieldNameName:["",[d.kI.required]]}),this.editFieldNameForm=this.fb.group({fieldNameId:[null,[d.kI.required]],fieldNameName:["",[d.kI.required]]})}onSearchModelChange(t=""){this.searchModelChanged.next(t)}getFieldNames(){let t=null;t=this.searchModel?this.httpService.post(u.n.SearchFieldNames,{searchText:this.searchModel}):this.httpService.get(u.n.FieldNames),t&&t.subscribe(o=>{this.fieldNames=null==o?void 0:o.data},o=>{console.log(o)})}openAddFieldNameModal(t){this.modalRef=this.modalService.show(t,{class:"modal-dialog-centered"})}cancelAddFieldNameModal(){var t;null===(t=this.modalRef)||void 0===t||t.hide(),this.addFieldNameForm.reset()}closeAddFieldNameModal(){var t;null===(t=this.modalRef)||void 0===t||t.hide(),this.addFieldNameForm.reset()}addFieldName(){var t;const o={userId:null===(t=this.userDetails)||void 0===t?void 0:t.id,name:this.addFieldNameForm.controls.fieldNameName.value};this.httpService.post(u.n.FieldNames,o).subscribe(l=>{(null==l?void 0:l.message)&&this.toastService.success(null==l?void 0:l.message),this.getFieldNames()},l=>{console.log(l)},()=>{var l;null===(l=this.modalRef)||void 0===l||l.hide(),this.addFieldNameForm.reset()})}openEditFieldNameModal(t,o){this.editFieldNameForm.controls.fieldNameName.setValue(null==o?void 0:o.name),this.editFieldNameForm.controls.fieldNameId.setValue(null==o?void 0:o.id),this.modalRef=this.modalService.show(t,{class:"modal-dialog-centered"})}cancelEditFieldNameModal(){var t;null===(t=this.modalRef)||void 0===t||t.hide(),this.editFieldNameForm.reset()}closeEditFieldNameModal(){var t;null===(t=this.modalRef)||void 0===t||t.hide(),this.editFieldNameForm.reset()}editFieldName(){var t;const o={userId:null===(t=this.userDetails)||void 0===t?void 0:t.id,id:this.editFieldNameForm.controls.fieldNameId.value,name:this.editFieldNameForm.controls.fieldNameName.value};this.httpService.put(u.n.FieldNames,o).subscribe(l=>{(null==l?void 0:l.message)&&this.toastService.success(null==l?void 0:l.message),this.getFieldNames()},l=>{console.log(l)},()=>{var l;null===(l=this.modalRef)||void 0===l||l.hide(),this.editFieldNameForm.reset()})}openDeleteFieldNameModal(t){this.modalRef=this.modalService.show(U.X,{initialState:{title:this.deleteFieldNameModalLabels.Title,text:`Are you sure you want to delete${(null==t?void 0:t.name)&&" <strong>"+(null==t?void 0:t.name)+"</strong>"}?`,cancelButton:this.deleteFieldNameModalLabels.CancelButton,confirmButton:this.deleteFieldNameModalLabels.ConfirmButton,confirmButtonClass:"btn-danger"},class:"modal-dialog-centered"}),this.modalRef.content.outputEmitter.pipe((0,q.q)(1)).subscribe(l=>{l&&this.deleteFieldName(t)})}deleteFieldName(t){const o=null==t?void 0:t.id;o&&this.httpService.delete(`${u.n.FieldNames}/${o}`).subscribe(l=>{(null==l?void 0:l.message)&&this.toastService.success(null==l?void 0:l.message),this.getFieldNames()},l=>{console.log(l)},()=>{var l;null===(l=this.modalRef)||void 0===l||l.hide()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.qu),e.Y36(Y.tT),e.Y36(j.jE),e.Y36(Q.O),e.Y36(O.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-field-names"]],decls:19,vars:5,consts:[[1,"row","mb-3"],[1,"col-12","col-md-8","col-lg-6","mb-3","mb-md-0"],["type","text",1,"form-control","input-search","ps-5","bg-transparent","border-0","border-bottom",3,"placeholder","ngModel","ngModelChange"],[1,"col-12","col-md-4","col-lg-6","d-flex","justify-content-end"],["type","button",1,"btn","lh-1","p-0",3,"click"],[1,"bi","bi-plus-circle","fs-3","text-muted"],[1,"row"],[1,"col-12"],[1,"table-responsive"],[1,"table"],[1,"table-primary"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["addFieldNameModalTemplate",""],["editFieldNameModalTemplate",""],[3,"ngClass"],[1,"text-center","fw-bold"],[4,"ngFor","ngForOf"],["scope","row",1,"text-end"],[1,"text-center"],["type","button",1,"btn","btn-link","p-0",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-link","p-0","ms-2",3,"click"],[1,"bi","bi-trash","text-danger"],[1,"modal-header","px-5","pt-5","border-bottom-0"],[1,"modal-title","fs-6"],["type","button",1,"btn-close",3,"click"],[1,"modal-body","px-5"],[3,"formGroup"],[1,"mb-3"],["for","fieldNameName",1,"form-label","fw-bold"],[1,"text-danger"],["type","text","id","fieldNameName","formControlName","fieldNameName",1,"form-control",3,"placeholder"],[1,"modal-footer","px-5","pb-5","border-top-0"],["type","button",1,"btn","btn-link","btn-sm","text-reset","text-uppercase","text-decoration-none",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","text-uppercase",3,"disabled","click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(s){return o.searchModel=s})("ngModelChange",function(s){return o.onSearchModelChange(s)}),e.qZA(),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(l);const s=e.MAs(16);return o.openAddFieldNameModal(s)}),e._UZ(5,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"table",9),e.TgZ(10,"thead",10),e.TgZ(11,"tr"),e.YNc(12,H,2,8,"th",11),e.qZA(),e.qZA(),e.YNc(13,$,4,2,"tbody",12),e.YNc(14,G,2,1,"tbody",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,z,17,7,"ng-template",null,13,e.W1O),e.YNc(17,V,17,7,"ng-template",null,14,e.W1O)}2&t&&(e.xp6(2),e.Q6J("placeholder",o.labels.SearchPlaceholder)("ngModel",o.searchModel),e.xp6(10),e.Q6J("ngForOf",o.fieldNamesThead),e.xp6(1),e.Q6J("ngIf",!o.fieldNames.length),e.xp6(1),e.Q6J("ngIf",o.fieldNames.length>0))},directives:[d.Fj,d.JJ,d.On,r.sg,r.mk,r.O5,d.JL,d.sg,d.u],pipes:[R.i],styles:[""]}),i})()}]}];let I=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r.ez,c.Bz.forChild(W)],c.Bz]}),i})(),X=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r.ez,I,v.m]]}),i})()}}]);